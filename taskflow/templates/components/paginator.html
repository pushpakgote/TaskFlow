{% with query_name=query_name|default:"page" %}
<div class="px-6 py-4 border-t border-gray-200 dark:border-gray-700">
    <nav class="flex items-center justify-center">
        <ul class="flex items-center -space-x-px">
            {% if page_obj.has_previous %}
                <li>
                    <a href="?{{query_name}}=1" class="px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">First</a>
                </li>
                <li>
                    <a href="?{{query_name}}={{ page_obj.previous_page_number }}" class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">Prev</a>
                </li>
            {% endif %}

            {# Show 1 pages before and after current page #}
            {% for num in page_obj.paginator.page_range %}
                {% if num >= page_obj.number|add:"-1" and num <= page_obj.number|add:"1" %}
                    <li>
                        <a href="?{{query_name}}={{ num }}" class="px-3 py-2 leading-tight {% if page_obj.number == num %}text-blue-600 bg-blue-50 border border-blue-300 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white{% else %}text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white{% endif %}">{{ num }}</a>
                    </li>
                {% endif %}
            {% endfor %}

            {% if page_obj.has_next %}
                <li>
                    <a href="?{{query_name}}={{ page_obj.next_page_number }}" class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">Next</a>
                </li>
                <li>
                    <a href="?{{query_name}}={{ page_obj.paginator.num_pages }}" class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">Last</a>
                </li>
            {% endif %}
        </ul>
    </nav>
</div>
{% endwith %}