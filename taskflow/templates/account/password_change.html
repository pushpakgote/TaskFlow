{% extends "base.html" %}
{% load i18n %}
{% load widget_tweaks %}

{% block content %}
{% if messages %}
  <div class="container mt-3">
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show shadow-sm" role="alert">
        <i class="fas fa-check-circle mr-2"></i>
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    {% endfor %}
  </div>
{% endif %}

<div class="d-flex justify-content-center align-items-center" >
  <div class="card shadow-lg border-0" style="max-width: 450px; width: 100%;">
    <div class="card-body p-5">
      <h3 class="card-title text-center mb-4 font-weight-bold">{% trans "Change Password" %}</h3>

      <form method="post" action="{% url 'account_change_password' %}">
        {% csrf_token %}
        {{ form.non_field_errors }}

        {% for field in form %}
          <div class="form-group">
            <label for="{{ field.id_for_label }}" class="font-weight-medium">{{ field.label }}</label>

            {% if field.errors %}
              {{ field|add_class:"form-control is-invalid" }}
              <div class="invalid-feedback">
                <ul class="mb-0 pl-3 text-left">
                  {% for error in field.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              </div>
            {% else %}
              {{ field|add_class:"form-control" }}
            {% endif %}
          </div>
        {% endfor %}

        <button type="submit" class="btn btn-primary btn-block mt-3">
          {% trans "Change Password" %}
        </button>
      </form>

      {% comment %} <div class="text-center mt-4">
        <a href="{% url 'account_reset_password' %}" class="text-decoration-none">
          {% trans "Forgot Password?" %}
        </a>
      </div> {% endcomment %}
    </div>
  </div>
</div>
{% endblock %}
